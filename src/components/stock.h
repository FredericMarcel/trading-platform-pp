#ifndef STOCK_H
#define STOCK_H

#include <string>
#include <QJsonObject>

class Stock {
 private:
  std::string symbol;
  QJsonObject dataByDay;
  QJsonObject dataByMinute;
  long latestTimeStampByDay;
  long latestTimeStampByMinute;
  std::string stockNews;

 public:
  Stock(std::string);
  ~Stock();

  std::string getSymbol();
  long getLatestTimestampByDay();
  long getLatestTimestampByMinute();
  QJsonObject getDataByDay();
  QJsonObject getDataByMinute();
  std::string getNews();
  void updateDataByDay();
  void updateDataByMinute();
  void updateNews();
};

#endif // STOCK_H

/*
Sample Output
Test run on 07/12/2020 14:43:05 (CET) (Monday) with resolution "D" that is one day and interval current time and going back one month.
Notice that the first data point we get t=1604880000 corresponds to 11/09/2020
It is the case because the API does not return data points when it is weekend or holidays. In short when the market is close.
{
"c":[116.31999969482,115.9700012207,119.48999786377,119.20999908447,119.26000213623,120.30000305176,119.38999938965,118.0299987793,118.63999938965,117.33999633789,113.84999847412,115.16999816895,116.0299987793,116.58999633789,119.05000305176,122.7200012207,123.08000183105,122.94000244141,122.25],
"h":[121.98000335693,117.58000183105,119.58999633789,120.51999664307,119.67169952393,120.98999786377,120.66999816895,119.81999969482,118.94999694824,118.76999664307,117.58999633789,115.84999847412,116.75,117.48999786377,120.9700012207,123.46929931641,123.37000274658,123.76999664307,122.86080169678],
"l":[116.12000274658,114.13999938965,116.51000213623,118.58000183105,117.87000274658,118.16999816895,118.98999786377,118,116.83999633789,117.29000091553,113.76000213623,112.58999633789,115.23000335693,116.2200012207,116.80999755859,120.01000213623,120.91999816895,122.23999786377,121.51999664307],
"o":[120.5,115.56999969482,117.16999816895,119.55000305176,119.44000244141,118.93000030518,119.51000213623,118.61000061035,117.33000183105,118.63999938965,117.20999908447,113.95999908447,115.62999725342,116.56999969482,116.9700012207,121.01000213623,122.15000152588,123.51000213623,122.59999847412],
"s":"ok",
"t":[1604880000,1604966400,1605052800,1605139200,1605225600,1605484800,1605571200,1605657600,1605744000,1605830400,1606089600,1606176000,1606262400,1606435200,1606694400,1606780800,1606867200,1606953600,1607040000],
"v":[154515312,138023392,112294952,103350672,81689000,91183016,74270976,76322112,74112976,73604000,127959320,113874216,76499232,46691000,167204992,125922000,89004192,78967632,78260000]
}


From Finnhub webpage:
o
List of open prices for returned candles.
h
List of high prices for returned candles.
l
List of low prices for returned candles.
c
List of close prices for returned candles.
v
List of volume data for returned candles.
t
List of timestamp for returned candles.
s
Status of the response. This field can either be ok or no_data.
*/
